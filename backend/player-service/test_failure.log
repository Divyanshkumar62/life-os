[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------------< com.lifeos:player-service >----------------------
[INFO] Building player-service 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ player-service ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 0 resource from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ player-service ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ player-service ---
[INFO] skip non existing resourceDirectory C:\Users\user\Desktop\life-os\backend\player-service\src\test\resources
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ player-service ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- surefire:3.1.2:test (default-test) @ player-service ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.lifeos.economy.service.EconomySystemTest
WARNING: A Java agent has been loaded dynamically (C:\Users\user\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.10\byte-buddy-agent-1.14.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
Applying effect for Focus Potion: null
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.679 s -- in com.lifeos.economy.service.EconomySystemTest
[INFO] Running com.lifeos.penalty.service.PenaltyServiceTest
21:44:50.927 [main] INFO com.lifeos.penalty.service.PenaltyService -- Penalty already applied for quest 7a3ce848-d3ef-4a44-a554-a026e80d2283
21:44:51.003 [main] INFO com.lifeos.penalty.service.PenaltyService -- Applied penalty CRITICAL to player fbab6e98-b4fe-4bf4-9ee4-6187e17695ef for quest 5f8e08ef-99e9-4783-a2e0-ba28947ab789
21:44:51.020 [main] INFO com.lifeos.penalty.service.PenaltyService -- Applied penalty LOW to player 48894d0b-8dff-46cc-a879-b830eed72163 for quest 8e14fcac-780f-411b-b007-8249a8e532bf
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.584 s -- in com.lifeos.penalty.service.PenaltyServiceTest
[INFO] Running com.lifeos.quest.service.DailyQuestServiceTest
21:44:51.551 [main] INFO com.lifeos.quest.service.DailyQuestService -- Generated 2 daily quests for player 5dc358d5-f74b-45aa-8ec3-fd056a540089
21:44:51.567 [main] INFO com.lifeos.quest.service.DailyQuestService -- Starting System-Wide Daily Reset Cycle
21:44:51.614 [main] ERROR com.lifeos.quest.service.DailyQuestService -- Failed to reset daily quests for player d6091dcf-0173-4071-8e76-29f5d6141a02
java.lang.NullPointerException: Cannot invoke "com.lifeos.player.dto.PlayerTemporalStateDTO.getConsecutiveDailyFailures()" because the return value of "com.lifeos.player.dto.PlayerStateResponse.getTemporalState()" is null
	at com.lifeos.quest.service.DailyQuestService.processPlayerReset(DailyQuestService.java:124)
	at com.lifeos.quest.service.DailyQuestService.runDailyResetCycle(DailyQuestService.java:49)
	at com.lifeos.quest.service.DailyQuestServiceTest.testRunDailyResetCycle(DailyQuestServiceTest.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
21:44:51.622 [main] INFO com.lifeos.quest.service.DailyQuestService -- Daily Reset Cycle Completed
[ERROR] Tests run: 4, Failures: 1, Errors: 2, Skipped: 0, Time elapsed: 0.584 s <<< FAILURE! -- in com.lifeos.quest.service.DailyQuestServiceTest
[ERROR] com.lifeos.quest.service.DailyQuestServiceTest.testProcessReset_MarksFailed_AndtriggersPenalty -- Time elapsed: 0.374 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "com.lifeos.player.dto.PlayerTemporalStateDTO.getConsecutiveDailyFailures()" because the return value of "com.lifeos.player.dto.PlayerStateResponse.getTemporalState()" is null
	at com.lifeos.quest.service.DailyQuestService.processPlayerReset(DailyQuestService.java:124)
	at com.lifeos.quest.service.DailyQuestServiceTest.testProcessReset_MarksFailed_AndtriggersPenalty(DailyQuestServiceTest.java:92)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.lifeos.quest.service.DailyQuestServiceTest.testRunDailyResetCycle -- Time elapsed: 0.143 s <<< FAILURE!
Wanted but not invoked:
questRepository.save(
    <any com.lifeos.quest.domain.Quest>
);
-> at com.lifeos.quest.service.DailyQuestServiceTest.testRunDailyResetCycle(DailyQuestServiceTest.java:76)

However, there was exactly 1 interaction with this mock:
questRepository.findByPlayerPlayerIdAndState(
    d6091dcf-0173-4071-8e76-29f5d6141a02,
    ACTIVE
);
-> at com.lifeos.quest.service.DailyQuestService.processPlayerReset(DailyQuestService.java:62)


	at com.lifeos.quest.service.DailyQuestServiceTest.testRunDailyResetCycle(DailyQuestServiceTest.java:76)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.lifeos.quest.service.DailyQuestServiceTest.testProcessReset_IgnoresProjectSubtasks -- Time elapsed: 0.014 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "com.lifeos.player.dto.PlayerTemporalStateDTO.getConsecutiveDailyFailures()" because the return value of "com.lifeos.player.dto.PlayerStateResponse.getTemporalState()" is null
	at com.lifeos.quest.service.DailyQuestService.processPlayerReset(DailyQuestService.java:124)
	at com.lifeos.quest.service.DailyQuestServiceTest.testProcessReset_IgnoresProjectSubtasks(DailyQuestServiceTest.java:112)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] Running com.lifeos.reward.service.RewardServiceTest
[ERROR] Tests run: 6, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 0.404 s <<< FAILURE! -- in com.lifeos.reward.service.RewardServiceTest
[ERROR] com.lifeos.reward.service.RewardServiceTest.testConfidenceCorrection -- Time elapsed: 0.304 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
	at com.lifeos.reward.service.RewardCalculationService.calculateReward(RewardCalculationService.java:101)
	at com.lifeos.reward.service.RewardService.applyReward(RewardService.java:48)
	at com.lifeos.reward.service.RewardServiceTest.testConfidenceCorrection(RewardServiceTest.java:166)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.lifeos.reward.service.RewardServiceTest.testElasticity_LowMomentum -- Time elapsed: 0.010 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
	at com.lifeos.reward.service.RewardCalculationService.calculateReward(RewardCalculationService.java:101)
	at com.lifeos.reward.service.RewardService.applyReward(RewardService.java:48)
	at com.lifeos.reward.service.RewardServiceTest.testElasticity_LowMomentum(RewardServiceTest.java:130)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.lifeos.reward.service.RewardServiceTest.testApplyReward_Standard -- Time elapsed: 0.012 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
	at com.lifeos.reward.service.RewardCalculationService.calculateReward(RewardCalculationService.java:101)
	at com.lifeos.reward.service.RewardService.applyReward(RewardService.java:48)
	at com.lifeos.reward.service.RewardServiceTest.testApplyReward_Standard(RewardServiceTest.java:110)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.lifeos.reward.service.RewardServiceTest.testElasticity_HighComplacency -- Time elapsed: 0.020 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
	at com.lifeos.reward.service.RewardCalculationService.calculateReward(RewardCalculationService.java:101)
	at com.lifeos.reward.service.RewardService.applyReward(RewardService.java:48)
	at com.lifeos.reward.service.RewardServiceTest.testElasticity_HighComplacency(RewardServiceTest.java:149)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   DailyQuestServiceTest.testRunDailyResetCycle:76 
Wanted but not invoked:
questRepository.save(
    <any com.lifeos.quest.domain.Quest>
);
-> at com.lifeos.quest.service.DailyQuestServiceTest.testRunDailyResetCycle(DailyQuestServiceTest.java:76)

However, there was exactly 1 interaction with this mock:
questRepository.findByPlayerPlayerIdAndState(
    d6091dcf-0173-4071-8e76-29f5d6141a02,
    ACTIVE
);
-> at com.lifeos.quest.service.DailyQuestService.processPlayerReset(DailyQuestService.java:62)


[ERROR] Errors: 
[ERROR]   DailyQuestServiceTest.testProcessReset_IgnoresProjectSubtasks:112 » NullPointer Cannot invoke "com.lifeos.player.dto.PlayerTemporalStateDTO.getConsecutiveDailyFailures()" because the return value of "com.lifeos.player.dto.PlayerStateResponse.getTemporalState()" is null
[ERROR]   DailyQuestServiceTest.testProcessReset_MarksFailed_AndtriggersPenalty:92 » NullPointer Cannot invoke "com.lifeos.player.dto.PlayerTemporalStateDTO.getConsecutiveDailyFailures()" because the return value of "com.lifeos.player.dto.PlayerStateResponse.getTemporalState()" is null
[ERROR]   RewardServiceTest.testApplyReward_Standard:110 » NullPointer Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
[ERROR]   RewardServiceTest.testConfidenceCorrection:166 » NullPointer Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
[ERROR]   RewardServiceTest.testElasticity_HighComplacency:149 » NullPointer Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
[ERROR]   RewardServiceTest.testElasticity_LowMomentum:130 » NullPointer Cannot invoke "java.lang.Long.longValue()" because the return value of "com.lifeos.quest.domain.QuestOutcomeProfile.getGoldReward()" is null
[INFO] 
[ERROR] Tests run: 18, Failures: 1, Errors: 6, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  21.225 s
[INFO] Finished at: 2026-01-11T21:44:52+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project player-service: There are test failures.
[ERROR] 
[ERROR] Please refer to C:\Users\user\Desktop\life-os\backend\player-service\target\surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
